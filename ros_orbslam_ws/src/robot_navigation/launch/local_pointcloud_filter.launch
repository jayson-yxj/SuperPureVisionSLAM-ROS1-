<?xml version="1.0"?>
<launch>
  <!-- 
    å±€éƒ¨ç‚¹äº‘è¿‡æ»¤å™¨å¯åŠ¨æ–‡ä»¶
    åŠŸèƒ½ï¼šä¿ç•™ä»¥æœºå™¨äººä¸ºä¸­å¿ƒçš„æ­£æ–¹å½¢èŒƒå›´å†…çš„ç‚¹äº‘
  -->
  
  <!-- å‚æ•°é…ç½® -->
  <arg name="box_size" default="15.0" doc="æ­£æ–¹å½¢è¾¹é•¿ï¼ˆç±³ï¼‰ï¼Œé»˜è®¤10ç±³"/>
  <arg name="input_topic" default="/o3d_pointCloud" doc="è¾“å…¥ç‚¹äº‘è¯é¢˜"/>
  <arg name="output_topic" default="/local_pointcloud" doc="è¾“å‡ºç‚¹äº‘è¯é¢˜"/>
  <arg name="robot_frame" default="base_link" doc="æœºå™¨äººåæ ‡ç³»"/>
  <arg name="update_rate" default="5.0" doc="æ›´æ–°é¢‘çŽ‡ï¼ˆHzï¼‰"/>
  
  <!-- å¯åŠ¨å±€éƒ¨ç‚¹äº‘è¿‡æ»¤èŠ‚ç‚¹ -->
  <node pkg="robot_navigation" 
        type="local_pointcloud_filter.py" 
        name="local_pointcloud_filter" 
        output="screen">
    <param name="box_size" value="$(arg box_size)"/>
    <param name="input_topic" value="$(arg input_topic)"/>
    <param name="output_topic" value="$(arg output_topic)"/>
    <param name="robot_frame" value="$(arg robot_frame)"/>
    <param name="update_rate" value="$(arg update_rate)"/>
  </node>
  
  <!-- ä¿¡æ¯è¾“å‡º -->
  <node pkg="rostopic" type="rostopic" name="local_pointcloud_info" 
        args="echo -n 1 $(arg output_topic)/header" 
        output="screen" 
        launch-prefix="bash -c 'sleep 3; echo; echo ========== å±€éƒ¨ç‚¹äº‘è¿‡æ»¤å™¨å·²å¯åŠ¨ ==========; echo; echo ðŸ“Š é…ç½®ä¿¡æ¯:; echo   è¿‡æ»¤èŒƒå›´: $(arg box_size)m Ã— $(arg box_size)m; echo   è¾“å…¥è¯é¢˜: $(arg input_topic); echo   è¾“å‡ºè¯é¢˜: $(arg output_topic); echo   æœºå™¨äººåæ ‡ç³»: $(arg robot_frame); echo   æ›´æ–°é¢‘çŽ‡: $(arg update_rate) Hz; echo; echo ðŸ’¡ ä½¿ç”¨æç¤º:; echo   åœ¨RVizä¸­æ·»åŠ PointCloud2æ˜¾ç¤º; echo   è¯é¢˜é€‰æ‹©: $(arg output_topic); echo   å¯ä»¥çœ‹åˆ°ä»¥æœºå™¨äººä¸ºä¸­å¿ƒçš„å±€éƒ¨ç‚¹äº‘; echo; exit 0'" />
  
</launch>